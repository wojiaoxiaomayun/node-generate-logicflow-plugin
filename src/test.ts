import LogicFlow, { RegisterParam } from '@logicflow/core'
import '@logicflow/core/dist/style/index.css';
import {gen,lfgen} from './index'

const data = {
    // 节点
    nodes: [
        {
            id: 50,
            type: 'add',
            x: 100,
            y: 150,
            text: '你好',
        },
        {
            id: 21,
            type: 'rect',
            x: 300,
            y: 150,
        },
    ],
    // 边
    edges:[
        {
            type: 'polyline',
            sourceNodeId: 50,
            targetNodeId: 21,
        }
    ]
}
LogicFlow.use(gen);
const lf = new LogicFlow({
    container: document.querySelector('#app'),
    tool: {
        control: false,
    },
    stopScrollGraph: true,
    stopZoomGraph: true,
    grid: {
        type: 'dot',
        size: 20,
    },
});
(lf as lfgen).registerGenNode({
    nodeName:'add',
    html:'<svg t="1610504616069" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1783" width="200" height="200"><path d="M736 560c32.736-75.456 90.416-111.184 160-128-14.768 98.24-67.808 146.624-160 144v-16z m-448 0c-32.736-75.456-90.416-111.184-160-128 14.768 98.24 67.808 146.624 160 144v-16z" fill="#FF8080" p-id="1784"></path><path d="M336 512c-72.368-52.928-130.48-73.216-208-80 78.176 29.312 156.48 79.744 176 128l32-48z" fill="#FFD140" p-id="1785"></path><path d="M720 576l80-96 64-32c-35.648 40.704-59.088 83.088-64 128h-80z m-416 0l-80-96-64-32c35.648 40.704 59.088 83.088 64 128h80z" fill="#D96D6D" p-id="1786"></path><path d="M688 512c72.368-52.928 130.48-73.216 208-80-78.176 29.312-156.48 79.744-176 128l-32-48z" fill="#FFD140" p-id="1787"></path><path d="M358.864 889.584a62.72 62.72 0 0 0-22.688-48.256C283.776 798.64 272 730.016 272 652.8 272 522.112 379.536 416 512 416s240 106.112 240 236.8c0 77.2-11.776 145.84-63.696 189.072a62.048 62.048 0 0 0-22.416 47.728h-0.752c0 65.392-86.864 118.4-153.136 118.4-66.272 0-153.136-53.008-153.136-118.4v-0.016z" fill="#FFD140" p-id="1788"></path><path d="M512 1008c-19.568 0 95.008-45.712 91.168-142-2.672-67.36 85.328-41.776 74.656-219.088C669.6 510.272 461.36 416 512 416c123.632 0 240 132.368 240 256 0 72.768-10.08 125.136-57.92 163.072a57.6 57.6 0 0 0-21.536 44.912L672 880c0 61.856-98.144 128-160 128z" fill="#D9B236" p-id="1789"></path><path d="M468.928 828.08c0-19.008 19.216-34.464 42.912-34.464 23.68 0 42.896 15.456 42.896 34.464 0 19.024-19.216 34.464-42.896 34.464-23.696 0-42.912-15.44-42.912-34.464z" fill="#D73636" p-id="1790"></path><path d="M386.224 486.8a479.392 479.392 0 0 1-76.64-79.568 427.6 427.6 0 0 1-33.456-51.424 25.488 25.488 0 0 0-9.184-9.68c-15.104-9.008-51.52-25.568-125.568-35.296-6.128-0.816-11.664-4.304-15.616-9.824a29.696 29.696 0 0 1-5.312-19.472c1.104-14.48 12.288-24.912 24.928-23.264 22.208 2.928 43.088 6.704 62.064 11.248 7.536 1.808 15.28-0.8 20.624-6.96 5.344-6.16 7.584-15.056 5.984-23.728-12.048-65.296-6.976-134.768 15.088-206.464 4.192-13.632 17.36-20.496 29.328-15.296 11.984 5.184 18.304 20.496 14.112 34.112-36.528 118.752-19.92 226.176 49.376 319.264 28.656 38.496 60.896 66.864 85.072 85.136m214.144 31.216a478.72 478.72 0 0 0 76.624-79.568 423.728 423.728 0 0 0 33.456-51.424c2.272-4.096 5.44-7.44 9.2-9.68 15.104-9.008 51.52-25.568 125.568-35.296 6.128-0.816 11.664-4.304 15.616-9.824 3.952-5.536 5.84-12.448 5.312-19.472-1.12-14.48-12.288-24.912-24.928-23.264a611.808 611.808 0 0 0-62.064 11.248c-7.536 1.808-15.28-0.8-20.624-6.96-5.344-6.16-7.584-15.056-5.984-23.728 12.048-65.296 6.96-134.768-15.088-206.464-4.192-13.632-17.36-20.496-29.328-15.296-11.984 5.184-18.304 20.496-14.112 34.112 36.528 118.752 19.92 226.176-49.376 319.264-28.656 38.496-60.896 66.864-85.072 85.136" fill="#CCA733" p-id="1791"></path></svg>'
})
lf.render(data);